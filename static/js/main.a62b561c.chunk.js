(this["webpackJsonpredux-counter"]=this["webpackJsonpredux-counter"]||[]).push([[0],{51:function(t,e,n){t.exports=n(89)},60:function(t,e,n){},61:function(t,e,n){t.exports=n.p+"static/media/logo.5d5d9eef.svg"},62:function(t,e,n){},81:function(t,e,n){},82:function(t,e,n){},83:function(t,e,n){},85:function(t,e,n){},86:function(t,e,n){},89:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(26),c=n.n(o),i=n(21),s=n(15),u=n(23),l=(n(60),n(18)),p=(n(61),n(62),n(5)),h=n.n(p),m=n(17),f=n(8),v=n(9),d=n(11),y=n(10),E=n(12),b=n(29),S=n.n(b),g={getForecastBycity:function(t){return w.apply(this,arguments)},getCityKeysByTyping:function(t){return O.apply(this,arguments)}};function w(){return(w=Object(m.a)(h.a.mark((function t(e){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.get("http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(e,"?apikey=HVUzpdiIvuokQ3svlWLk6aFpckz48vhd"));case 2:if(!(n=t.sent).data.DailyForecasts){t.next=6;break}return localStorage.setItem("myweather",JSON.stringify(n.data)),t.abrupt("return",n.data);case 6:return t.abrupt("return",JSON.parse(localStorage.getItem("myweather")));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(){return(O=Object(m.a)(h.a.mark((function t(e){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==e){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,S.a.get("http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=HVUzpdiIvuokQ3svlWLk6aFpckz48vhd&q=".concat(e));case 4:return n=t.sent,console.log(n.data,"weaAAA"),t.abrupt("return",n.data.map((function(t){return{name:t.LocalizedName,code:t.Key}})));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var j=function(t){return{type:"SET_WEATHER",val:t}},D=function(t){function e(){return Object(f.a)(this,e),Object(d.a)(this,Object(y.a)(e).apply(this,arguments))}return Object(E.a)(e,t),Object(v.a)(e,[{key:"componentDidMount",value:function(){var t=Object(m.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.getForecastBycity();case 2:e=t.sent,console.log(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){t.props.onIncrementCounter(),t.props.onAddResult(t.props.ctr)}},"UP"),r.a.createElement("button",{onClick:function(){t.props.onDecreaseCounter(),t.props.onAddResult(t.props.ctr)}},"DOWN"),this.props.ctr,this.props.results.map((function(e){return r.a.createElement("div",{onClick:function(){return t.props.onDeleteItem(e.id)}},e.value)})))}}]),e}(a.Component),k=(Object(s.b)((function(t){return{ctr:t.ctr.counter,results:t.res.results}}),(function(t){return{onAddResult:function(e){return t(function(t){return{type:"ADD_RESULT",val:t}}(e))},onIncrementCounter:function(){return t((e=10,function(t){setTimeout((function(){t(function(t){return{type:"INCREMENT",val:t}}(e))}),2e3)}));var e},onDecreaseCounter:function(){return t({type:"DECREASE",val:10})},onDeleteItem:function(e){return t({type:"DELETE_RESULT",id:e})}}}))(D),n(3)),C=(n(81),n(43)),N=n.n(C),T=n(46),A=n.n(T),I=n(44),R=n.n(I),L=n(45),_=n.n(L),F=(n(82),function(t){function e(){return Object(f.a)(this,e),Object(d.a)(this,Object(y.a)(e).apply(this,arguments))}return Object(E.a)(e,t),Object(v.a)(e,[{key:"render",value:function(){var t=Math.floor(5*(this.props.day.Temperature.Maximum.Value-32)/9),e=this.props.day.Day.IconPhrase,n=1===(""+this.props.day.Day.Icon).length?"0"+this.props.day.Day.Icon:this.props.day.Day.Icon,a="https://developer.accuweather.com/sites/default/files/".concat(n,"-s.png"),o=this.props.day.EpochDate,c=new Date(1e3*o).toDateString().split(" ")[0];return r.a.createElement("div",{className:"day"},r.a.createElement("h4",{style:{color:"rgb(180, 190, 190)"}},c),r.a.createElement("h2",null,t,"\xb0"),r.a.createElement("img",{className:"img",src:a,alt:""}),r.a.createElement("span",null,e))}}]),e}(a.Component)),x=(n(83),n(25)),M=n.n(x),W=function(t){function e(){return Object(f.a)(this,e),Object(d.a)(this,Object(y.a)(e).apply(this,arguments))}return Object(E.a)(e,t),Object(v.a)(e,[{key:"render",value:function(){var t=this.props.days.map((function(t){return r.a.createElement(F,{key:M()(),day:t})}));return r.a.createElement("div",{className:"days"},t)}}]),e}(a.Component),V=function(t){function e(){var t,n;Object(f.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(t=Object(y.a)(e)).call.apply(t,[this].concat(r)))).state={typing:n.props.match.params.city,citiesDatalist:[{name:n.props.match.params.city,code:n.props.match.params.code}],isShowingName:!0,isShowingSearch:!1},n.setStrState=function(t){n.setState({typing:t.target.value,citiesDatalist:n.props.cityStr?n.props.cityStr.map((function(t){return t})):n.state.citiesDatalist})},n.submit=function(){var t=n.state.citiesDatalist.find((function(t){return t.name.toLowerCase()===n.state.typing.toLocaleLowerCase()})).code;console.log(t),n.props.history.push("/".concat(n.state.typing,"/").concat(t)),alert(n.props.match.params.code),n.props.onSetWeather(n.state.citiesDatalist.find((function(t){return t.name.toLowerCase()===n.state.typing.toLocaleLowerCase()})).code),n.setState(Object(k.a)({},n.state,{isShowingName:!0,isShowingSearch:!1}))},n.doNotShowName=function(){n.setState(Object(k.a)({},n.state,{isShowingName:!1}))},n.showSearch=function(){n.setState(Object(k.a)({},n.state,{isShowingSearch:!0}))},n.doNotShowSearch=function(){n.setState({isShowingSearch:!1})},n.saveCity=Object(m.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.props.addFavorite({name:n.props.match.params.city,code:n.props.match.params.code});case 2:case"end":return t.stop()}}),t)}))),n.removeFavorite=Object(m.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.props.removeFavorite(n.props.match.params.code);case 2:case"end":return t.stop()}}),t)}))),n}return Object(E.a)(e,t),Object(v.a)(e,[{key:"componentWillMount",value:function(){var t=this;this.props.onSetWeather(this.state.citiesDatalist.find((function(e){return e.name.toLowerCase()===t.state.typing.toLocaleLowerCase()})).code),this.setState(Object(k.a)({},this.state,{isShowingName:!0,isShowingSearch:!1}))}},{key:"render",value:function(){var t=this;console.log(this.props.match.params.city,this.props.match.params.code);var e=this.state.typing,n=this.props.cityStr&&this.props.cityStr.map((function(t){return r.a.createElement("option",{code:t.code,value:"".concat(t.name)})})),a=this.props.fvr.some((function(e){return e.code===t.props.match.params.code})),o=r.a.createElement(W,{days:this.props.weth.DailyForecasts});return r.a.createElement("div",{className:"home"},this.state.isShowingSearch&&r.a.createElement("div",{onClick:this.doNotShowSearch,className:"modal"}),this.state.isShowingName&&r.a.createElement("div",{className:"name"},!this.state.isShowingSearch&&r.a.createElement("button",{onClick:this.showSearch,className:"goSearchButton"},r.a.createElement(N.a,null)),r.a.createElement("h3",{style:{margin:0}},e),!a&&r.a.createElement("div",null,r.a.createElement(R.a,{style:{color:"yellow"},onClick:this.saveCity})),a&&r.a.createElement("div",null,r.a.createElement(_.a,{style:{color:"yellow"},onClick:this.removeFavorite}))),this.state.isShowingSearch&&r.a.createElement("form",{className:"form",onSubmit:this.submit},r.a.createElement("input",{autoFocus:!0,onClick:this.doNotShowName,className:"input",list:"cities",value:this.state.typing,onChange:function(e){t.props.onTypeCity(e),t.setStrState(e)}}),r.a.createElement("datalist",{id:"cities"},n),r.a.createElement("button",{className:"button"},r.a.createElement(A.a,null))),this.props.weth.DailyForecasts&&o)}}]),e}(a.Component),H=Object(s.b)((function(t){return{weth:t.weth.weather,cityStr:t.weth.citiesDataSet,fvr:t.fav.favorites}}),(function(t){return{onSetWeather:function(e){return t(function(t){return function(e){return g.getForecastBycity(t).then((function(t){e(j(t))}))}}(e))},onTypeCity:function(e){return t((n=e.target.value,function(t){return g.getCityKeysByTyping(n).then((function(e){t({type:"SET_DATA_CITIES",val:e})}))}));var n},addFavorite:function(e){return t(function(t){return{type:"ADD_FAVORITE",val:t}}(e))},removeFavorite:function(e){return t(function(t){return{type:"REMOVE_FAVORITE",val:t}}(e))}}}))(V),B=(n(85),n(86),n(47)),U=n.n(B),z=function(t){function e(){var t,n;Object(f.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(t=Object(y.a)(e)).call.apply(t,[this].concat(r)))).pushRouter=function(){console.log(n.props),n.props.pushHistory(n.props.city.name,n.props.city.code)},n.onDelete=function(t){t.stopPropagation()},n}return Object(E.a)(e,t),Object(v.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"link",onClick:this.pushRouter},this.props.city.name,r.a.createElement("div",{onClick:this.onDelete},r.a.createElement(U.a,null)))}}]),e}(a.Component),P=function(t){function e(){var t,n;Object(f.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(t=Object(y.a)(e)).call.apply(t,[this].concat(r)))).pushHistory=function(t,e){n.props.history.push("/".concat(t,"/").concat(e))},n}return Object(E.a)(e,t),Object(v.a)(e,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var t=this,e=this.props.fvr.map((function(e){return r.a.createElement(z,{pushHistory:t.pushHistory,key:e.id,city:e})}));return r.a.createElement("div",{className:"favorites"},e)}}]),e}(a.Component),J=Object(s.b)((function(t){return{fvr:t.fav.favorites}}),(function(t){return{}}))(P);var K=Object(s.b)((function(t){return{ctr:t.counter}}))((function(){return r.a.createElement("div",{className:"App"},r.a.createElement("nav",{className:"navbar"},r.a.createElement(u.b,{to:"/favorites"},"FAVORITES "),"|",r.a.createElement(u.b,{to:"/jerusalem/213225"}," HOME")),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/favorites",component:J}),r.a.createElement(l.a,{exact:!0,path:"/:city/:code",component:H})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X={counter:0},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"INCREMENT":return Object(k.a)({},t,{counter:t.counter+e.val});case"DECREASE":return Object(k.a)({},t,{counter:t.counter-e.val})}return t},q={results:[]},$=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_RESULT":return console.log(e.val),{results:t.results.concat({value:e.val,id:new Date})};case"DELETE_RESULT":var n=e.id;return{results:t.results.filter((function(t){return t.id!==n}))}}return t},G={weather:{},citiesDataSet:[]},Y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_WEATHER":return Object(k.a)({},t,{weather:e.val});case"SET_DATA_CITIES":return Object(k.a)({},t,{citiesDataSet:e.val})}return t},Z={favorites:[]},tt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_FAVORITE":return Object(k.a)({},t,{favorites:t.favorites.concat({name:e.val.name,code:e.val.code,id:M()()})});case"REMOVE_FAVORITE":return Object(k.a)({},t,{favorites:t.favorites.filter((function(t){return t.code!==e.val}))})}return t},et=n(49),nt=Object(i.c)({ctr:Q,res:$,weth:Y,fav:tt}),at=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,rt=Object(i.e)(nt,at(Object(i.a)((function(t){return function(e){return function(n){console.log("[MIDDLE] DISPATCH : ",n);var a=e(n);return console.log("[MIDDLE] NEXT STATE ",t.getState()),a}}}),et.a)));c.a.render(r.a.createElement(s.a,{store:rt},r.a.createElement(u.a,null,r.a.createElement(K,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.a62b561c.chunk.js.map